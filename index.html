<!DOCTYPE html>
<html>
<head>
  <title>Weather App</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins&display=swap" rel="stylesheet">
  <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">
  <style>
    body {
      margin: 0;
      padding: 0;
      font-family: 'Poppins', sans-serif;
      height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      background: linear-gradient(135deg, #667eea, #764ba2);
      color: #fff;
    }

    .container {
      width: 90%;
      max-width: 320px;
      background: rgba(255, 255, 255, 0.1);
      border-radius: 20px;
      padding: 25px 20px;
      box-shadow: 0 8px 20px rgba(0, 0, 0, 0.2);
      backdrop-filter: blur(12px);
      text-align: center;
      height: 550px;
    }

    .search-box {
      display: flex;
      margin-bottom: 20px;
    }

    .search-box input {
      flex: 1;
      padding: 10px 12px;
      font-size: 14px;
      border: none;
      border-radius: 25px 0 0 25px;
      outline: none;
      background: #fff;
      color: #333;
    }

    .search-box button {
      padding: 10px 16px;
      font-size: 14px;
      border: none;
      border-radius: 0 25px 25px 0;
      background: #5f27cd;
      color: white;
      cursor: pointer;
    }

    .search-box button:hover {
      background: #341f97;
    }

    .card {
      background: rgba(255, 255, 255, 0.1);
      padding: 20px 15px;
      border-radius: 20px;
      margin-top: 10px;
      box-shadow: inset 0 0 5px rgba(255, 255, 255, 0.1);
      height: 450px;
    }

    .card h2 {
      font-size: 18px;
      margin-bottom: 10px;
    }

    .card h6 {
      font-size: 13px;
      font-weight: 400;
      text-transform: capitalize;
      color: #ddd;
    }

    .card h4 {
      font-size: 34px;
      margin: 10px 0;
      font-weight: 600;
      color: #ffffff;
    }

    img#icon {
      width: 70px;
      height: 70px;
      margin: 8px 0;
    }

    .details {
      margin-top: 12px;
      text-align: left;
      font-size: 13px;
      background: rgba(255, 255, 255, 0.08);
      border-radius: 10px;
      padding: 10px 12px;
      color: #eee;
      line-height: 1.5;
    }

    button.refresh {
      margin-top: 18px;
      width: 50px;
      height: 50px;
      background: linear-gradient(145deg, #5f27cd, #341f97);
      border: none;
      border-radius: 50%;
      font-size: 18px;
      color: white;
      cursor: pointer;
      transition: all 0.3s ease;
    }

    button.refresh:hover {
      transform: rotate(90deg) scale(1.05);
      background: linear-gradient(145deg, #341f97, #5f27cd);
    }

    @media (max-width: 400px) {
      .container {
        padding: 20px 15px;
      }

      .card h4 {
        font-size: 28px;
      }

      .search-box input {
        font-size: 13px;
      }

      .search-box button {
        font-size: 13px;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="search-box">
      <input type="text" id="cityInput" placeholder="Enter city name" required>
      <button onclick="getWeather()"><i class="fa fa-search"></i></button>
    </div>

    <div class="card">
      <h2><i class="fa fa-map-marker"></i> <span id="location">Loading...</span></h2>
      <h6 id="weather"></h6>
      <h4><span id="temp"></span><sup>째</sup>C</h4>
      <img src="" id="icon">
      <div class="details" id="extraDetails"></div>
      <button onclick="window.location.reload()" class="refresh"><i class="fa fa-refresh"></i></button>
    </div>
  </div>

  <script>
    function getWeather() {
      const city = document.getElementById('cityInput').value.trim();
      if (!city) return;

      const apiKey = "7eab817d912539a1077384e0bdc13b54";
      const url = `https://api.openweathermap.org/data/2.5/weather?q=${city}&appid=${apiKey}`;

      fetch(url)
        .then(response => response.json())
        .then(obj => {
          if (obj.cod === 200) {
            document.getElementById('weather').innerText = obj.weather[0].description;
            document.getElementById('location').innerText = obj.name;
            document.getElementById('temp').innerText = (obj.main.temp - 273.15).toFixed(1);
            document.getElementById('icon').src = `https://openweathermap.org/img/w/${obj.weather[0].icon}.png`;

            document.getElementById('extraDetails').innerHTML = `
              <strong>Humidity:</strong> ${obj.main.humidity}%<br>
              <strong>Pressure:</strong> ${obj.main.pressure} hPa<br>
              <strong>Wind Speed:</strong> ${obj.wind.speed} m/s<br>
              <strong>Feels Like:</strong> ${(obj.main.feels_like - 273.15).toFixed(1)}째C<br>
              <strong>Min Temp:</strong> ${(obj.main.temp_min - 273.15).toFixed(1)}째C<br>
              <strong>Max Temp:</strong> ${(obj.main.temp_max - 273.15).toFixed(1)}째C
            `;
          } else {
            document.getElementById('location').innerText = "City not found";
            document.getElementById('weather').innerText = "";
            document.getElementById('temp').innerText = "";
            document.getElementById('icon').src = "";
            document.getElementById('extraDetails').innerText = "";
          }
        })
        .catch(error => {
          console.log("Error fetching data:", error);
          document.getElementById('location').innerText = "Error loading data";
        });
    }

    // Auto-load weather for Mumbai
    window.onload = () => {
      document.getElementById("cityInput").value = "Mumbai";
      getWeather();
    };
  </script>
</body>
</html>
